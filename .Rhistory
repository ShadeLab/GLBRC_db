random_2 <sample(data)
random_3 <- sample(data)
random_1 <- sample(data)
random_2 <- sample(data)
random_3 <- sample(data)
help(data.frame)
data.frame(random_1,row.names = c(A:H), names = c(1:12))
data.frame(random_1,row.names = c("A:H"), names = c(1:12))
data.frame(random_1)
random_1 <- sample(data)
random_2 <- sample(data)
random_3 <- sample(data)
random_1
random_1
#read in data
library(tidyverse)
ordered <- read.csv("MSU_OneDrive/Lab/GLBRC/isolate_collection/Interaction_experiments/list_2018.csv", header = FALSE, sep = ',')
#create randomized arrays - first shuffle rows, then columns.
# repeat 3 times to create 3 separate randomized dataframes - each time you run this it will be different!
random_1row <- ordered[sample(1:nrow(ordered)),]
random_1 <-random_1row[,sample(1:ncol(ordered))]
#save the file
write.csv(random_1, file = "MSU_OneDrive/Lab/GLBRC/isolate_collection/Interaction_experiments/2018_random1.csv")
View(random_1)
View(random_1row)
random_1 <- sample(data)
random_2 <- sample(data)
random_3 <- sample(data)
#read in data
library(readr)
library(tidyverse)
ordered <- read.csv("MSU_OneDrive/Lab/GLBRC/isolate_collection/Interaction_experiments/list_2018.csv", header = FALSE, sep = ',')
data<-c(1, 2, 3, 4, 6, 7, 9, 12, 13, 14,
15,
16,
17,
18,
19,
20,
21,
22,
23,
25,
26,
27,
28,
32,
34,
36,
37,
46,
48,
52,
54,
55,
56,
57,
62,
68,
76,
82,
83,
84,
85,
86,
87,
88,
89,
90,
91,
92,
93,
94,
96,
97,
98,
99,
100,
101,
102,
103,
104,
105,
106,
107,
108,
109,
111,
112,
113,
115,
116,
117,
119,
120,
121,
122,
123,
124,
125)
data
str(data)
random_1 <- sample(data)
random_2 <- sample(data)
random_3 <- sample(data)
#read in data
library(readr)
library(tidyverse)
ordered <- read.csv("MSU_OneDrive/Lab/GLBRC/isolate_collection/Interaction_experiments/list_2018.csv", header = FALSE, sep = ',')
data<-c(1, 2, 3, 4, 6, 7, 9, 12, 13, 14,
15,
16,
17,
18,
19,
20,
21,
22,
23,
25,
26,
27,
28,
32,
34,
36,
37,
46,
48,
52,
54,
55,
56,
57,
62,
68,
76,
82,
83,
84,
85,
86,
87,
88,
89,
90,
91,
92,
93,
94,
96,
97,
98,
99,
100,
101,
102,
103,
104,
105,
106,
107,
108,
109,
111,
112,
113,
115,
116,
117,
119,
120,
121,
122,
123,
124,
125)
data
str(data)
random_1 <- sample(data)
random_2 <- sample(data)
random_3 <- sample(data)
install.packages("picante")
library(picante)
matrix1(random_1,nrow = 8, ncol = 12)
matrix(random_1,nrow = 8, ncol = 12)
array_3<- matrix(random_3,nrow = 8, ncol = 12)
#read in data
library(readr)
library(tidyverse)
library(picante)
ordered <- read.csv("MSU_OneDrive/Lab/GLBRC/isolate_collection/Interaction_experiments/list_2018.csv", header = FALSE, sep = ',')
data<-c(1, 2, 3, 4, 6, 7, 9, 12, 13, 14,
15,
16,
17,
18,
19,
20,
21,
22,
23,
25,
26,
27,
28,
32,
34,
36,
37,
46,
48,
52,
54,
55,
56,
57,
62,
68,
76,
82,
83,
84,
85,
86,
87,
88,
89,
90,
91,
92,
93,
94,
96,
97,
98,
99,
100,
101,
102,
103,
104,
105,
106,
107,
108,
109,
111,
112,
113,
115,
116,
117,
119,
120,
121,
122,
123,
124,
125)
data
str(data)
random_1 <- sample(data)
random_2 <- sample(data)
random_3 <- sample(data)
array_1 <- matrix(random_1,nrow = 8, ncol = 12)
array_2<- matrix(random_2,nrow = 8, ncol = 12)
array_3<- matrix(random_3,nrow = 8, ncol = 12)
View(array_2)
View(array_2)
View(array_3)
data<-c(1, 2, 3, 4, 6, 7, 9, 12, 13, 14,
15,
16,
17,
18,
19,
20,
21,
22,
23,
25,
26,
27,
28,
32,
34,
36,
37,
46,
48,
52,
54,
55,
56,
57,
62,
68,
76,
82,
83,
84,
85,
86,
87,
88,
89,
90,
91,
92,
93,
94,
96,
97,
98,
99,
100,
101,
102,
103,
104,
105,
106,
107,
108,
109,
111,
112,
113,
115,
116,
117,
119,
120,
121,
122,
123,
124,
125, NA, NA, NA)
data
str(data)
random_1 <- sample(data)
random_2 <- sample(data)
random_3 <- sample(data)
array_1 <- matrix(random_1,nrow = 8, ncol = 10)
array_2<- matrix(random_2,nrow = 8, ncol = 10)
array_3<- matrix(random_3,nrow = 8, ncol = 10)
write.csv(array_1, file = "MSU_OneDrive/Lab/GLBRC/isolate_collection/Interaction_experiments/2018_random1.csv")
write.csv(array_3, file = "MSU_OneDrive/Lab/GLBRC/isolate_collection/Interaction_experiments/2018_random3.csv")
#read in data
library(readr)
library(tidyverse)
library(picante)
ordered <- read.csv("MSU_OneDrive/Lab/GLBRC/isolate_collection/Interaction_experiments/list_2018.csv", header = FALSE, sep = ',')
data<-c(1, 2, 3, 4, 6, 7, 9, 12, 13, 14,
15,
16,
17,
18,
19,
20,
21,
22,
23,
25,
26,
27,
28,
32,
34,
36,
37,
46,
48,
52,
54,
55,
56,
57,
62,
68,
76,
82,
83,
84,
85,
86,
87,
88,
89,
90,
91,
92,
93,
94,
96,
97,
98,
99,
100,
101,
102,
103,
104,
105,
106,
107,
108,
109,
111,
112,
113,
115,
116,
117,
119,
120,
121,
122,
123,
124,
125, NA, NA, NA)
data
str(data)
random_1 <- sample(data)
random_2 <- sample(data)
random_3 <- sample(data)
array_1 <- matrix(random_1,nrow = 8, ncol = 10)
array_2 <- matrix(random_2,nrow = 8, ncol = 10)
array_3 <- matrix(random_3,nrow = 8, ncol = 10)
write.csv(array_1, file = "MSU_OneDrive/Lab/GLBRC/isolate_collection/Interaction_experiments/2018_random1.csv")
write.csv(array_2, file = "MSU_OneDrive/Lab/GLBRC/isolate_collection/Interaction_experiments/2018_random2.csv")
write.csv(array_3, file = "MSU_OneDrive/Lab/GLBRC/isolate_collection/Interaction_experiments/2018_random3.csv")
#read in data
library(readr)
library(tidyverse)
library(picante)
ordered <- read.csv("MSU_OneDrive/Lab/GLBRC/isolate_collection/Interaction_experiments/list_2018.csv", header = FALSE, sep = ',')
data<-c(1, 2, 3, 4, 6, 7, 9, 12, 13, 14,15,16,17,18,19,20,21,22, 23, 25,26,27,28,32, 34,36,37,46,48, 52,  54, 55, 56,57, 62, 68,76, 82,83,84, 85,86,87, 88, 89,90,91,92,93,94, 96, 97, 98, 99, 100,101,102,103,104,105,106,107,108,109,111,112,113,115, 116,117,119,120,121,122,123, 124, 125, NA, NA, NA)
data
str(data)
random_1 <- sample(data)
random_2 <- sample(data)
random_3 <- sample(data)
array_1 <- matrix(random_1,nrow = 8, ncol = 10)
array_2 <- matrix(random_2,nrow = 8, ncol = 10)
array_3 <- matrix(random_3,nrow = 8, ncol = 10)
write.csv(array_1, file = "MSU_OneDrive/Lab/GLBRC/isolate_collection/Interaction_experiments/2018_random1.csv")
write.csv(array_2, file = "MSU_OneDrive/Lab/GLBRC/isolate_collection/Interaction_experiments/2018_random2.csv")
write.csv(array_3, file = "MSU_OneDrive/Lab/GLBRC/isolate_collection/Interaction_experiments/2018_random3.csv")
citation("vegan")
citation("hclust")
help(hclust)
citation(vegan)
library(vegan)
library(vegan)
citation(vegan)
citation("vegan")
citation("hclust")
help(hclust)
citation("stats")
#set working directory to GLBRC_db
setwd("~/Documents/Github/GLBRC_db")
library(dplyr)
library(tidyr)
library(reshape2)
library(RSQLite)
library(stringr)
# Preping the environmental metadata
glbrc <- dbConnect(RSQLite::SQLite(), "R/InputFiles/GLBRC_bioenergy_db.db" )
#Content of the DB
dbListTables(glbrc)
#Content of selected tables in the DB
dbListFields(glbrc, 'plant')
dbListFields(glbrc, 'sequencing')
dbListFields(glbrc, 'soil')
dbListFields(glbrc, 'nucleic_acids')
#get tables into R
glbrc_NA <- dbGetQuery(glbrc, "select * from nucleic_acids")
glbrc_soil <- dbGetQuery(glbrc, 'select * from soil')
glbrc_plant <- dbGetQuery(glbrc, 'select * from plant')
glbrc_plot <- dbGetQuery(glbrc, 'select * from plot')
glbrc_sampling <- dbGetQuery(glbrc, 'select * from sampling')
glbrc_sequncing <- dbGetQuery(glbrc, 'select * from sequencing')
glbrc_sequncing <- glbrc_sequncing %>%
mutate(nucleic_acid_name = str_trim(glbrc_sequncing$nucleic_acid_name, side = "both"))
#joining tables to create complete map file
metadata <- full_join(glbrc_sampling, glbrc_plot, by='plotID')
metadata <- full_join(metadata, glbrc_soil, by='sampleID')
metadata <- full_join(metadata, glbrc_plant, by='sampleID')
metadata <- full_join(metadata, glbrc_NA, by='sampleID')
metadata <- full_join(metadata, glbrc_sequncing, by='nucleic_acid_name')
map_full <- metadata
# #creating numeric time column
map_full$sampling_date <- paste0(map_full$month,'-', map_full$day,'-',map_full$year)
map_full$sampling_date <- as.POSIXct(map_full$sampling_date, format='%m-%d-%Y')
time <- as.POSIXct(map_full$sampling_date, format='%m-%d-%Y')
time_numeric <- as.numeric(time)
map_time <- cbind(map_full, time_numeric)
#adding weather data
weather <- read.csv("R/InputFiles/kbs_weather_09212017.csv", encoding = 'UTF-8')
dim(weather)
head(weather)
weather$sampling_date <- as.POSIXct(weather$date, format='%d.%m.%y')
#subsetting weather file for sample dates
sub_weather <- weather[weather$sampling_date %in% map_time$sampling_date,]
#merging dataframes - map file and weather
map_complete <- full_join(map_time, weather)
#subset metadata for metatranscriptomes, unique, and 2017
metaT_2016_17 <- subset(map_complete, exclude_from_analysis == "N" & sequencing_type == 'Metatranscriptome')
# write out file
write.table(metaT_2016_17, file = "R/Outputs/2016_17_MetaT_map.txt", sep = "\t", row.names=FALSE, quote=FALSE)
